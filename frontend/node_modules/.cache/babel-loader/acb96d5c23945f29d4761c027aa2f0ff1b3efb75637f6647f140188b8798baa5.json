{"ast":null,"code":"import \"../chunk-3W5G4CYI.js\";\nconst deriveState = (clerkLoaded, state, initialState) => {\n  if (!clerkLoaded && initialState) {\n    return deriveFromSsrInitialState(initialState);\n  }\n  return deriveFromClientSideState(state);\n};\nconst deriveFromSsrInitialState = initialState => {\n  const userId = initialState.userId;\n  const user = initialState.user;\n  const sessionId = initialState.sessionId;\n  const session = initialState.session;\n  const organization = initialState.organization;\n  const orgId = initialState.orgId;\n  const orgRole = initialState.orgRole;\n  const orgPermissions = initialState.orgPermissions;\n  const orgSlug = initialState.orgSlug;\n  const actor = initialState.actor;\n  return {\n    userId,\n    user,\n    sessionId,\n    session,\n    organization,\n    orgId,\n    orgRole,\n    orgPermissions,\n    orgSlug,\n    actor,\n    lastOrganizationInvitation: null,\n    lastOrganizationMember: null\n  };\n};\nconst deriveFromClientSideState = state => {\n  const userId = state.user ? state.user.id : state.user;\n  const user = state.user;\n  const sessionId = state.session ? state.session.id : state.session;\n  const session = state.session;\n  const actor = session?.actor;\n  const organization = state.organization;\n  const orgId = state.organization ? state.organization.id : state.organization;\n  const orgSlug = organization?.slug;\n  const membership = organization ? user?.organizationMemberships?.find(om => om.organization.id === orgId) : organization;\n  const orgPermissions = membership ? membership.permissions : membership;\n  const orgRole = membership ? membership.role : membership;\n  const lastOrganizationInvitation = state.lastOrganizationInvitation;\n  const lastOrganizationMember = state.lastOrganizationMember;\n  return {\n    userId,\n    user,\n    sessionId,\n    session,\n    organization,\n    orgId,\n    orgRole,\n    orgSlug,\n    orgPermissions,\n    actor,\n    lastOrganizationInvitation,\n    lastOrganizationMember\n  };\n};\nexport { deriveState };","map":{"version":3,"mappings":";AAUO,MAAMA,cAAcA,CAACC,aAAsBC,OAAkBC,iBAA2C;EAC7G,IAAI,CAACF,eAAeE,cAAc;IAChC,OAAOC,0BAA0BD,YAAY;EAC/C;EACA,OAAOE,0BAA0BH,KAAK;AACxC;AAEA,MAAME,4BAA6BD,gBAA+B;EAChE,MAAMG,SAASH,aAAaG;EAC5B,MAAMC,OAAOJ,aAAaI;EAC1B,MAAMC,YAAYL,aAAaK;EAC/B,MAAMC,UAAUN,aAAaM;EAC7B,MAAMC,eAAeP,aAAaO;EAClC,MAAMC,QAAQR,aAAaQ;EAC3B,MAAMC,UAAUT,aAAaS;EAC7B,MAAMC,iBAAiBV,aAAaU;EACpC,MAAMC,UAAUX,aAAaW;EAC7B,MAAMC,QAAQZ,aAAaY;EAE3B,OAAO;IACLT;IACAC;IACAC;IACAC;IACAC;IACAC;IACAC;IACAC;IACAC;IACAC;IACAC,4BAA4B;IAC5BC,wBAAwB;EAC1B;AACF;AAEA,MAAMZ,4BAA6BH,SAAqB;EACtD,MAAMI,SAAoCJ,MAAMK,OAAOL,MAAMK,KAAKW,KAAKhB,MAAMK;EAC7E,MAAMA,OAAOL,MAAMK;EACnB,MAAMC,YAAuCN,MAAMO,UAAUP,MAAMO,QAAQS,KAAKhB,MAAMO;EACtF,MAAMA,UAAUP,MAAMO;EACtB,MAAMM,QAAQN,SAASM;EACvB,MAAML,eAAeR,MAAMQ;EAC3B,MAAMC,QAAmCT,MAAMQ,eAAeR,MAAMQ,aAAaQ,KAAKhB,MAAMQ;EAC5F,MAAMI,UAAUJ,cAAcS;EAC9B,MAAMC,aAAaV,eACfH,MAAMc,yBAAyBC,KAAKC,MAAMA,GAAGb,aAAaQ,OAAOP,KAAK,IACtED;EACJ,MAAMG,iBAAiBO,aAAaA,WAAWI,cAAcJ;EAC7D,MAAMR,UAAUQ,aAAaA,WAAWK,OAAOL;EAE/C,MAAMJ,6BAA6Bd,MAAMc;EACzC,MAAMC,yBAAyBf,MAAMe;EAErC,OAAO;IACLX;IACAC;IACAC;IACAC;IACAC;IACAC;IACAC;IACAE;IACAD;IACAE;IACAC;IACAC;EACF;AACF","names":["deriveState","clerkLoaded","state","initialState","deriveFromSsrInitialState","deriveFromClientSideState","userId","user","sessionId","session","organization","orgId","orgRole","orgPermissions","orgSlug","actor","lastOrganizationInvitation","lastOrganizationMember","id","slug","membership","organizationMemberships","find","om","permissions","role"],"sources":["D:\\split project\\expense-tracker_fullstack-master\\frontend\\node_modules\\@clerk\\clerk-react\\src\\utils\\deriveState.ts"],"sourcesContent":["import type {\n  ActiveSessionResource,\n  InitialState,\n  MembershipRole,\n  OrganizationCustomPermissionKey,\n  OrganizationResource,\n  Resources,\n  UserResource,\n} from '@clerk/types';\n\nexport const deriveState = (clerkLoaded: boolean, state: Resources, initialState: InitialState | undefined) => {\n  if (!clerkLoaded && initialState) {\n    return deriveFromSsrInitialState(initialState);\n  }\n  return deriveFromClientSideState(state);\n};\n\nconst deriveFromSsrInitialState = (initialState: InitialState) => {\n  const userId = initialState.userId;\n  const user = initialState.user as UserResource;\n  const sessionId = initialState.sessionId;\n  const session = initialState.session as ActiveSessionResource;\n  const organization = initialState.organization as OrganizationResource;\n  const orgId = initialState.orgId;\n  const orgRole = initialState.orgRole as MembershipRole;\n  const orgPermissions = initialState.orgPermissions as OrganizationCustomPermissionKey[];\n  const orgSlug = initialState.orgSlug;\n  const actor = initialState.actor;\n\n  return {\n    userId,\n    user,\n    sessionId,\n    session,\n    organization,\n    orgId,\n    orgRole,\n    orgPermissions,\n    orgSlug,\n    actor,\n    lastOrganizationInvitation: null,\n    lastOrganizationMember: null,\n  };\n};\n\nconst deriveFromClientSideState = (state: Resources) => {\n  const userId: string | null | undefined = state.user ? state.user.id : state.user;\n  const user = state.user;\n  const sessionId: string | null | undefined = state.session ? state.session.id : state.session;\n  const session = state.session;\n  const actor = session?.actor;\n  const organization = state.organization;\n  const orgId: string | null | undefined = state.organization ? state.organization.id : state.organization;\n  const orgSlug = organization?.slug;\n  const membership = organization\n    ? user?.organizationMemberships?.find(om => om.organization.id === orgId)\n    : organization;\n  const orgPermissions = membership ? membership.permissions : membership;\n  const orgRole = membership ? membership.role : membership;\n\n  const lastOrganizationInvitation = state.lastOrganizationInvitation;\n  const lastOrganizationMember = state.lastOrganizationMember;\n\n  return {\n    userId,\n    user,\n    sessionId,\n    session,\n    organization,\n    orgId,\n    orgRole,\n    orgSlug,\n    orgPermissions,\n    actor,\n    lastOrganizationInvitation,\n    lastOrganizationMember,\n  };\n};\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}