{"ast":null,"code":"import \"../chunk-3W5G4CYI.js\";\nimport { parsePublishableKey } from \"@clerk/shared/keys\";\nimport { loadScript } from \"@clerk/shared/loadScript\";\nimport { isValidProxyUrl, proxyUrlToAbsoluteURL } from \"@clerk/shared/proxy\";\nimport { addClerkPrefix } from \"@clerk/shared/url\";\nimport { errorThrower } from \"./errorThrower\";\nimport { isDevOrStagingUrl } from \"./isDevOrStageUrl\";\nimport { versionSelector } from \"./versionSelector\";\nvar FAILED_TO_LOAD_ERROR = \"Clerk: Failed to load Clerk\";\nvar loadClerkJsScript = function loadClerkJsScript(opts) {\n  var frontendApi = opts.frontendApi,\n    publishableKey = opts.publishableKey;\n  if (!publishableKey && !frontendApi) {\n    errorThrower.throwMissingPublishableKeyError();\n  }\n  return loadScript(clerkJsScriptUrl(opts), {\n    async: true,\n    crossOrigin: \"anonymous\",\n    beforeLoad: applyClerkJsScriptAttributes(opts)\n  }).catch(function () {\n    throw new Error(FAILED_TO_LOAD_ERROR);\n  });\n};\nvar clerkJsScriptUrl = function clerkJsScriptUrl(opts) {\n  var _parsePublishableKey;\n  var clerkJSUrl = opts.clerkJSUrl,\n    clerkJSVariant = opts.clerkJSVariant,\n    clerkJSVersion = opts.clerkJSVersion,\n    proxyUrl = opts.proxyUrl,\n    domain = opts.domain,\n    publishableKey = opts.publishableKey,\n    frontendApi = opts.frontendApi;\n  if (clerkJSUrl) {\n    return clerkJSUrl;\n  }\n  var scriptHost = \"\";\n  if (!!proxyUrl && isValidProxyUrl(proxyUrl)) {\n    scriptHost = proxyUrlToAbsoluteURL(proxyUrl).replace(/http(s)?:\\/\\//, \"\");\n  } else if (domain && !isDevOrStagingUrl(((_parsePublishableKey = parsePublishableKey(publishableKey)) === null || _parsePublishableKey === void 0 ? void 0 : _parsePublishableKey.frontendApi) || frontendApi || \"\")) {\n    scriptHost = addClerkPrefix(domain);\n  } else {\n    var _parsePublishableKey2;\n    scriptHost = ((_parsePublishableKey2 = parsePublishableKey(publishableKey)) === null || _parsePublishableKey2 === void 0 ? void 0 : _parsePublishableKey2.frontendApi) || frontendApi || \"\";\n  }\n  var variant = clerkJSVariant ? \"\".concat(clerkJSVariant.replace(/\\.+$/, \"\"), \".\") : \"\";\n  var version = versionSelector(clerkJSVersion);\n  return \"https://\".concat(scriptHost, \"/npm/@clerk/clerk-js@\").concat(version, \"/dist/clerk.\").concat(variant, \"browser.js\");\n};\nvar applyClerkJsScriptAttributes = function applyClerkJsScriptAttributes(options) {\n  return function (script) {\n    var publishableKey = options.publishableKey,\n      frontendApi = options.frontendApi,\n      proxyUrl = options.proxyUrl,\n      domain = options.domain;\n    if (publishableKey) {\n      script.setAttribute(\"data-clerk-publishable-key\", publishableKey);\n    } else if (frontendApi) {\n      script.setAttribute(\"data-clerk-frontend-api\", frontendApi);\n    }\n    if (proxyUrl) {\n      script.setAttribute(\"data-clerk-proxy-url\", proxyUrl);\n    }\n    if (domain) {\n      script.setAttribute(\"data-clerk-domain\", domain);\n    }\n  };\n};\nexport { loadClerkJsScript };","map":{"version":3,"mappings":";AAAA,SAASA,2BAA2B;AACpC,SAASC,kBAAkB;AAC3B,SAASC,iBAAiBC,6BAA6B;AACvD,SAASC,sBAAsB;AAG/B,SAASC,oBAAoB;AAC7B,SAASC,yBAAyB;AAClC,SAASC,uBAAuB;AAEhC,IAAMC,uBAAuB;AAOtB,IAAMC,oBAAoB,SAApBA,kBAAqBC,MAAmC;EACnE,IAAQC,cAAgCD,KAAhCC;IAAaC,iBAAmBF,KAAnBE;EAErB,IAAI,CAACA,kBAAkB,CAACD,aAAa;IACnCN,aAAaQ,gCAAgC;EAC/C;EAEA,OAAOZ,WAAWa,iBAAiBJ,IAAI,GAAG;IACxCK,OAAO;IACPC,aAAa;IACbC,YAAYC,6BAA6BR,IAAI;EAC/C,CAAC,EAAES,MAAM,YAAM;IACb,MAAM,IAAIC,MAAMZ,oBAAoB;EACtC,CAAC;AACH;AAEA,IAAMM,mBAAmB,SAAnBA,iBAAoBJ,MAAmC;EAAA;EAC3D,IAAQW,aAA8FX,KAA9FW;IAAYC,iBAAkFZ,KAAlFY;IAAgBC,iBAAkEb,KAAlEa;IAAgBC,WAAkDd,KAAlDc;IAAUC,SAAwCf,KAAxCe;IAAQb,iBAAgCF,KAAhCE;IAAgBD,cAAgBD,KAAhBC;EAEtF,IAAIU,YAAY;IACd,OAAOA;EACT;EAEA,IAAIK,aAAa;EACjB,IAAI,CAAC,CAACF,YAAYtB,gBAAgBsB,QAAQ,GAAG;IAC3CE,aAAavB,sBAAsBqB,QAAQ,EAAEG,QAAQ,iBAAiB,EAAE;EAC1E,WAAWF,UAAU,CAACnB,kBAAkB,6CAAoBM,cAAc,0DAAlCgB,qBAAqCjB,gBAAeA,eAAe,EAAE,GAAG;IAC9Ge,aAAatB,eAAeqB,MAAM;EACpC,OAAO;IAAA;IACLC,aAAa,8CAAoBd,cAAc,2DAAlCiB,sBAAqClB,gBAAeA,eAAe;EAClF;EAEA,IAAMmB,UAAUR,2BAAoBA,eAAeK,QAAQ,QAAQ,EAAE,CAAC,SAAM;EAC5E,IAAMI,UAAUxB,gBAAgBgB,cAAc;EAC9C,yBAAkBG,UAAU,kCAAwBK,OAAO,yBAAeD,OAAO;AACnF;AAEA,IAAMZ,+BAA+B,SAA/BA,6BAAgCc;EAAA,OAAsC,UAACC,QAA8B;IACzG,IAAQrB,iBAAkDoB,QAAlDpB;MAAgBD,cAAkCqB,QAAlCrB;MAAaa,WAAqBQ,QAArBR;MAAUC,SAAWO,QAAXP;IAC/C,IAAIb,gBAAgB;MAClBqB,OAAOC,aAAa,8BAA8BtB,cAAc;IAClE,WAAWD,aAAa;MACtBsB,OAAOC,aAAa,2BAA2BvB,WAAW;IAC5D;IAEA,IAAIa,UAAU;MACZS,OAAOC,aAAa,wBAAwBV,QAAQ;IACtD;IAEA,IAAIC,QAAQ;MACVQ,OAAOC,aAAa,qBAAqBT,MAAM;IACjD;EACF;AAAA","names":["parsePublishableKey","loadScript","isValidProxyUrl","proxyUrlToAbsoluteURL","addClerkPrefix","errorThrower","isDevOrStagingUrl","versionSelector","FAILED_TO_LOAD_ERROR","loadClerkJsScript","opts","frontendApi","publishableKey","throwMissingPublishableKeyError","clerkJsScriptUrl","async","crossOrigin","beforeLoad","applyClerkJsScriptAttributes","catch","Error","clerkJSUrl","clerkJSVariant","clerkJSVersion","proxyUrl","domain","scriptHost","replace","_parsePublishableKey","_parsePublishableKey2","variant","version","options","script","setAttribute"],"sources":["D:\\split project\\expense-tracker_fullstack-master\\frontend\\node_modules\\@clerk\\clerk-react\\src\\utils\\loadClerkJsScript.ts"],"sourcesContent":["import { parsePublishableKey } from '@clerk/shared/keys';\nimport { loadScript } from '@clerk/shared/loadScript';\nimport { isValidProxyUrl, proxyUrlToAbsoluteURL } from '@clerk/shared/proxy';\nimport { addClerkPrefix } from '@clerk/shared/url';\n\nimport type { IsomorphicClerkOptions } from '../types';\nimport { errorThrower } from './errorThrower';\nimport { isDevOrStagingUrl } from './isDevOrStageUrl';\nimport { versionSelector } from './versionSelector';\n\nconst FAILED_TO_LOAD_ERROR = 'Clerk: Failed to load Clerk';\n\ntype LoadClerkJsScriptOptions = Omit<IsomorphicClerkOptions, 'proxyUrl' | 'domain'> & {\n  proxyUrl: string;\n  domain: string;\n};\n\nexport const loadClerkJsScript = (opts: LoadClerkJsScriptOptions) => {\n  const { frontendApi, publishableKey } = opts;\n\n  if (!publishableKey && !frontendApi) {\n    errorThrower.throwMissingPublishableKeyError();\n  }\n\n  return loadScript(clerkJsScriptUrl(opts), {\n    async: true,\n    crossOrigin: 'anonymous',\n    beforeLoad: applyClerkJsScriptAttributes(opts),\n  }).catch(() => {\n    throw new Error(FAILED_TO_LOAD_ERROR);\n  });\n};\n\nconst clerkJsScriptUrl = (opts: LoadClerkJsScriptOptions) => {\n  const { clerkJSUrl, clerkJSVariant, clerkJSVersion, proxyUrl, domain, publishableKey, frontendApi } = opts;\n\n  if (clerkJSUrl) {\n    return clerkJSUrl;\n  }\n\n  let scriptHost = '';\n  if (!!proxyUrl && isValidProxyUrl(proxyUrl)) {\n    scriptHost = proxyUrlToAbsoluteURL(proxyUrl).replace(/http(s)?:\\/\\//, '');\n  } else if (domain && !isDevOrStagingUrl(parsePublishableKey(publishableKey)?.frontendApi || frontendApi || '')) {\n    scriptHost = addClerkPrefix(domain);\n  } else {\n    scriptHost = parsePublishableKey(publishableKey)?.frontendApi || frontendApi || '';\n  }\n\n  const variant = clerkJSVariant ? `${clerkJSVariant.replace(/\\.+$/, '')}.` : '';\n  const version = versionSelector(clerkJSVersion);\n  return `https://${scriptHost}/npm/@clerk/clerk-js@${version}/dist/clerk.${variant}browser.js`;\n};\n\nconst applyClerkJsScriptAttributes = (options: LoadClerkJsScriptOptions) => (script: HTMLScriptElement) => {\n  const { publishableKey, frontendApi, proxyUrl, domain } = options;\n  if (publishableKey) {\n    script.setAttribute('data-clerk-publishable-key', publishableKey);\n  } else if (frontendApi) {\n    script.setAttribute('data-clerk-frontend-api', frontendApi);\n  }\n\n  if (proxyUrl) {\n    script.setAttribute('data-clerk-proxy-url', proxyUrl);\n  }\n\n  if (domain) {\n    script.setAttribute('data-clerk-domain', domain);\n  }\n};\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}